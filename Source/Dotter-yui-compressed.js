(function(a){this.Dotter=new Class({Implements:[Options,Events],options:{delay:1000,dot:".",message:"Loading",numDots:3,property:"text",reset:false},initialize:function(b,c){this.setOptions(c);this.container=a(b);this.dots=0;this.running=false;},dot:function(){if(this.running){var b=this.container.get(this.options.property);this.dots++;this.container.set(this.options.property,(this.dots%this.options.numDots!=0?b:this.options.message)+""+this.options.dot);}return this;},load:function(){this.loaded=true;this.dots=0;this.dotter=function(){this.dot();this.fireEvent("dot");}.bind(this);this.periodical=this.dotter.periodical(this.options.delay);this.container.set(this.options.property,this.options.message+""+this.options.dot);return this;},start:function(){if(!this.loaded||this.options.reset){this.load();}this.running=true;this.fireEvent("start");return this;},stop:function(){this.running=this.loaded=false;$clear(this.periodical);this.fireEvent("stop");return this;}});});